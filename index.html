<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>For My Love 💖</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      height: 100vh;
      height: calc(var(--vh, 1vh) * 100);
      overflow: hidden;
      background: linear-gradient(135deg, #800020, #f5f5dc);
      touch-action: manipulation;
    }

    /* Welcome Screen */
    .welcome-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, #800020, #f5f5dc);
      z-index: 100;
      animation: fadeOut 1s ease-in-out 3s forwards;
    }

    .welcome-screen h1 {
      font-size: clamp(2rem, 10vw, 4rem);
      color: white;
      text-shadow: 0 0 20px rgba(255, 255, 255, 0.7);
      animation: float 3s ease-in-out infinite;
      margin-bottom: 2rem;
      text-align: center;
      padding: 0 20px;
    }

    .heart-loader {
      width: 50px;
      height: 50px;
      background-color: #ffcccc;
      transform: rotate(45deg);
      animation: pulse 1.5s ease infinite;
    }

    .heart-loader:before,
    .heart-loader:after {
      content: '';
      width: 50px;
      height: 50px;
      background-color: #ffcccc;
      border-radius: 50%;
      position: absolute;
    }

    .heart-loader:before {
      top: -25px;
      left: 0;
    }

    .heart-loader:after {
      top: 0;
      left: -25px;
    }

    /* Main Content */
    .main-content {
      position: relative;
      width: 100%;
      height: 100%;
      display: none;
    }

    /* Photo Bands - Updated for vertical layout */
    .photo-band {
      position: absolute;
      display: flex;
      width: max-content;
      z-index: 1;
    }

    .band1 {
      top: 5%;
      animation: scrollRight 120s linear infinite;
    }

    .band2 {
      top: 35%;
      animation: scrollLeft 150s linear infinite;
    }

    .band3 {
      top: 65%;
      animation: scrollRight 180s linear infinite;
    }

    .photo-band img {
      height: auto;
      max-height: 180px;
      width: 150px;
      margin: 0 15px;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      transition: transform 0.3s ease;
      object-fit: cover;
    }

    .photo-band img:hover {
      transform: scale(1.05);
    }

    /* Buttons */
    .action-buttons {
      position: absolute;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
      z-index: 10;
      width: 90%;
    }

    .btn {
      padding: 15px 25px;
      background: #f5f5dc;
      color: #800020;
      border: none;
      border-radius: 30px;
      font-size: 1.1rem;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      min-width: 150px;
      min-height: 60px;
      width: 100%;
      max-width: 350px;
    }

    .btn:hover {
      background: #ffe;
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    }

    /* Login Overlay */
    .login-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(128, 0, 32, 0.9);
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 20;
    }

    .login-form {
      background: rgba(236, 236, 236, 0.9);
      padding: 25px;
      border-radius: 20px;
      width: 95%;
      max-width: 400px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      animation: slideUp 0.5s ease-out;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      color: #800020;
      font-weight: bold;
      font-size: 1.1rem;
    }

    .form-group input {
      width: 100%;
      padding: 15px;
      border: 2px solid #800020;
      border-radius: 10px;
      font-size: 16px;
      transition: all 0.3s ease;
    }

    .form-group input:focus {
      outline: none;
      border-color: #ffcccc;
      box-shadow: 0 0 10px rgba(255, 204, 204, 0.5);
    }

    .error-message {
      color: #ff3333;
      font-size: 0.9rem;
      margin-top: 5px;
      height: 15px;
    }

    .date-hint {
      display: none;
      margin: 10px 0;
      width: 100%;
      height: 10px;
      border-radius: 5px;
      overflow: hidden;
    }

    .date-hint.visible {
      display: flex;
    }

    .hint-color {
      flex: 1;
      height: 100%;
    }

    .color1 { background: #800020; }
    .color2 { background: #f6fcaa; }

    /* CAPTCHA Styles */
    .captcha-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(128, 0, 32, 0.95);
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 30;
    }

    .captcha-box {
      background: rgba(245, 245, 220, 0.9);
      padding: 25px;
      border-radius: 20px;
      width: 95%;
      max-width: 500px;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }

    .captcha-title {
      color: #800020;
      font-size: 1.5rem;
      margin-bottom: 15px;
      font-weight: bold;
      animation: fadeIn 0.5s ease-out;
    }

    .captcha-question {
      font-size: 1.2rem;
      color: #800020;
      margin: 15px 0;
      font-weight: bold;
      animation: fadeIn 0.5s ease-out;
    }

    .captcha-options {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin: 20px 0;
    }

    .captcha-btn {
      padding: 15px 20px;
      background: rgba(255, 255, 255, 0.8);
      color: #800020;
      border: 2px solid #800020;
      border-radius: 15px;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      animation: fadeIn 0.5s ease-out;
      min-height: 50px;
    }

    .captcha-btn:hover {
      background: white;
      transform: scale(1.05);
    }

    .captcha-hint {
      color: #ff3333;
      font-size: 1rem;
      margin-top: 10px;
      min-height: 20px;
    }

    .suspense-text {
      color: #800020;
      font-size: 1.1rem;
      margin: 10px 0;
      line-height: 1.6;
      font-style: italic;
      animation: fadeIn 0.8s ease-out;
    }

    /* Video Container */
    .video-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.9);
      z-index: 1000;
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      animation: fadeIn 1.5s ease-out;
    }
  
    .video-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(128, 0, 32, 0.7), rgba(245, 245, 220, 0.3));
      z-index: 1;
    }
  
    #loveVideo {
      width: 95%;
      max-width: 800px;
      height: auto;
      max-height: 60vh;
      z-index: 2;
      box-shadow: 0 0 30px rgba(255, 204, 204, 0.5);
      border-radius: 10px;
    }
  
    .close-video-btn {
      position: absolute;
      top: 15px;
      right: 15px;
      background: #800020;
      color: white;
      border: none;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      font-size: 1.5rem;
      cursor: pointer;
      z-index: 3;
      transition: all 0.3s ease;
    }
  
    .close-video-btn:hover {
      transform: scale(1.2);
      background: #ff3333;
    }

    /* Mobile Play Button */
    .mobile-play-prompt {
      position: absolute;
      bottom: 20%;
      left: 0;
      right: 0;
      text-align: center;
      z-index: 4;
      display: none;
    }

    /* Animations */
    @keyframes fadeOut {
      to { opacity: 0; visibility: hidden; }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    @keyframes pulse {
      0%, 100% { transform: rotate(45deg) scale(1); }
      50% { transform: rotate(45deg) scale(1.1); }
    }

    @keyframes scrollRight {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(0%); }
    }

    @keyframes scrollLeft {
      0% { transform: translateX(0%); }
      100% { transform: translateX(-100%); }
    }

    @keyframes slideUp {
      from { transform: translateY(50px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      20%, 60% { transform: translateX(-5px); }
      40%, 80% { transform: translateX(5px); }
    }

    @keyframes heartBeat {
      0% { transform: scale(1); }
      25% { transform: scale(1.1); }
      50% { transform: scale(1); }
      75% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    /* Portrait-specific adjustments */
    @media (orientation: portrait) {
      .photo-band img {
        max-height: 160px;
        width: 140px;
        margin: 0 10px;
      }

      .band1 { top: 5%; }
      .band2 { top: 38%; }
      .band3 { top: 70%; }

      .btn {
        padding: 15px 20px;
        font-size: 1rem;
        min-height: 55px;
      }

      .login-form {
        padding: 20px;
      }

      .form-group input {
        padding: 12px 15px;
      }

      #loveVideo {
        max-height: 50vh;
      }
    }

    /* Landscape-specific adjustments (just in case) */
    @media (orientation: landscape) {
      .photo-band img {
        max-height: 120px;
        width: 110px;
      }

      .band1 { top: 10%; }
      .band2 { top: 45%; }
      .band3 { top: 80%; }

      .action-buttons {
        bottom: 20px;
      }
    }
  </style>
</head>
<body>
  <!-- Welcome Screen -->
  <div class="welcome-screen">
    <h1>Welcome My Love 💕</h1>
    <div class="heart-loader"></div>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Photo Bands -->
    <div class="photo-band band1" id="band1"></div>
    <div class="photo-band band2" id="band2"></div>
    <div class="photo-band band3" id="band3"></div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <button class="btn" onclick="showLogin()">
        <span>💌</span> Secret Message
      </button>
    </div>
  </div>

  <!-- Login Overlay -->
  <div class="login-overlay" id="loginOverlay">
    <div class="login-form">
      <div class="form-group">
        <label for="nameInput">Your User Name</label>
        <input type="text" id="nameInput" placeholder="Enter your name">
        <div class="error-message" id="nameError"></div>
      </div>
      
      <div class="form-group">
        <label for="dateInput">Secret Number</label>
        <input type="text" id="dateInput" placeholder="Enter our secret Number">
        <div class="date-hint" id="dateHint" style="display: none;">
          <div class="hint-color color1"></div>
          <div class="hint-color color2"></div>
        </div>
        <div class="error-message" id="dateError"></div>
      </div>
      
      <button class="btn" onclick="validateLogin()" style="width: 100%;">
        <span>💖</span> Submit
      </button>
    </div>
  </div>

  <!-- CAPTCHA Overlay -->
  <div class="captcha-screen" id="captchaScreen">
    <div class="captcha-box" id="captchaBox"></div>
  </div>

  <!-- Video Message -->
  <div id="videoMessage" class="video-container" style="display:none;">
    <div class="video-overlay"></div>
    <video id="loveVideo" controls playsinline webkit-playsinline muted preload="auto">
      <source src="images/Snapchat-483252254.mp4" type="video/mp4">
      <source src="images/Snapchat-483252254.webm" type="video/webm">
      Your device doesn't support romantic videos 💔
    </video>
    <div class="mobile-play-prompt" id="mobilePrompt">
      <button class="btn" onclick="playVideo()">
        <span>▶️</span> Play Our Special Video
      </button>
    </div>
    <button class="close-video-btn" onclick="closeVideo()">✕</button>
  </div>

  <script>
    // Image sources
    const imageSources = Array.from({ length: 10 }, (_, i) => `images/${i + 1}.jpeg`);
    
    // Shuffle function
    function shuffleArray(array) {
      const newArray = [...array];
      for (let i = newArray.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
      }
      return newArray;
    }

    // Populate photo bands with random order for each band
    function populatePhotoBands() {
      const bands = ['band1', 'band2', 'band3'];
      
      bands.forEach(bandId => {
        const band = document.getElementById(bandId);
        // Create unique random order for each band
        const shuffledImages = shuffleArray([...imageSources]);
        
        // Create multiple copies for seamless scrolling
        for (let i = 0; i < 5; i++) {
          shuffledImages.forEach(src => {
            const img = document.createElement('img');
            img.src = src;
            img.alt = "Our memory";
            band.appendChild(img.cloneNode());
          });
        }
      });
    }

    // Mobile-specific setup
    function setupMobile() {
      // Prevent zoom on input focus
      document.querySelectorAll('input').forEach(input => {
        input.addEventListener('focus', () => {
          window.scrollTo(0, 0);
          document.body.style.zoom = "100%";
        });
      });
    }

    // Show welcome screen then main content
    setTimeout(() => {
      document.querySelector('.main-content').style.display = 'block';
    }, 4000);

    // Show login overlay
    function showLogin() {
      document.getElementById('loginOverlay').style.display = 'flex';
      setTimeout(() => {
        document.getElementById('nameInput').focus();
      }, 100);
    }

    // Validate login
    function validateLogin() {
      const name = document.getElementById('nameInput').value.trim().toLowerCase();
      const date = document.getElementById('dateInput').value.trim();
      let isValid = true;

      // Validate name
      if (name !== 'fiza') {
        document.getElementById('nameError').textContent = 'Not quite right, my love! It is a special name!';
        isValid = false;
      } else {
        document.getElementById('nameError').textContent = '';
      }

      // Validate date
      if (date !== '14-04-2025') {
        document.getElementById('dateError').textContent = 'Not Right ! Here is a hint and use "-"';
        document.getElementById('dateHint').style.display = 'flex';
        isValid = false;
      } else {
        document.getElementById('dateError').textContent = '';
        document.getElementById('dateHint').style.display = 'none';
      }

      // If valid, show CAPTCHA
      if (isValid) {
        document.getElementById('loginOverlay').style.display = 'none';
        startCaptcha();
      }
    }

    // CAPTCHA System
    let currentQuestion = 0;
    let suspenseIndex = 0;
    const captchaQuestions = [
      {
        question: "Verify you are FIZA",
        subquestion: "1. What is my favorite color?",
        options: ["Royale bleu", "Dark Green", "White"],
        answer: "Royale bleu"
      },
      {
        subquestion: "2. What is the nickname that makes me feel shy?",
        options: ["Chbeyb", "Fisofi", "Sevgilim"],
        answer: "Chbeyb"
      },
      {
        subquestion: "3. Do you love me?",
        options: ["Yes", "Yes"],
        answer: "Yes"
      }
    ];

    const suspenseMessages = [
      "Here comes the final question...",
      "It's a tricky one, be careful...",
      "I don't think you can solve this...",
      "Do you really know me this well?",
      "This will test your love for real...",
      "You think you can answer this?",
      "Yes or no? Think carefully...",
      "The moment of truth has arrived..."
    ];

    function startCaptcha() {
      currentQuestion = 0;
      suspenseIndex = 0;
      document.getElementById('captchaScreen').style.display = 'flex';
      showVerificationTitle();
    }

    function showVerificationTitle() {
      const captchaBox = document.getElementById('captchaBox');
      captchaBox.innerHTML = `
        <div class="captcha-title">Verify you are FIZA</div>
      `;
      
      setTimeout(() => {
        captchaBox.innerHTML += `
          <div class="captcha-question" style="opacity:0; animation:fadeIn 0.8s ease-out forwards;">
            Getting ready with special questions...
          </div>
        `;
        
        setTimeout(() => {
          showQuestion();
        }, 2000);
      }, 1500);
    }

    function showQuestion() {
      const captchaBox = document.getElementById('captchaBox');
      const currentQ = captchaQuestions[currentQuestion];
      
      if (currentQuestion === 2) {
        // For final question, show suspense messages first
        showSuspenseMessages();
        return;
      }
      
      captchaBox.innerHTML = `
        <div class="captcha-title" style="opacity:0; animation:fadeIn 0.8s ease-out forwards;">
          Question ${currentQuestion + 1} of 3
        </div>
        <div class="captcha-question" style="opacity:0; animation:fadeIn 0.8s ease-out 0.3s forwards;">
          ${currentQ.subquestion}
        </div>
        <div class="captcha-options" style="opacity:0; animation:fadeIn 0.8s ease-out 0.6s forwards;">
          ${currentQ.options.map(opt => 
            `<button class="captcha-btn" onclick="checkCaptchaAnswer('${opt}')">
              ${opt}
            </button>`
          ).join('')}
        </div>
      `;
    }

    function showSuspenseMessages() {
      const captchaBox = document.getElementById('captchaBox');
      
      if (suspenseIndex < suspenseMessages.length) {
        captchaBox.innerHTML = `
          <div class="captcha-title" style="opacity:0; animation:fadeIn 1.5s ease-out forwards;">
            Final Question
          </div>
          <div class="suspense-text" style="opacity:0; animation:fadeIn 2s ease-out forwards;">
            ${suspenseMessages[suspenseIndex]}
          </div>
        `;
        
        suspenseIndex++;
        setTimeout(showSuspenseMessages, 3300);
      } else {
        setTimeout(() => {
          const currentQ = captchaQuestions[currentQuestion];
          captchaBox.innerHTML = `
            <div class="captcha-title" style="opacity:0; animation:fadeIn 2.5s ease-out forwards;">
              Final Question
            </div>
            <div class="captcha-question" style="opacity:0; animation:fadeIn 3s ease-out 0.5s forwards;">
              ${currentQ.subquestion}
            </div>
            <div class="captcha-options" style="opacity:0; animation:fadeIn 3s ease-out 1s forwards;">
              ${currentQ.options.map(opt => 
                `<button class="captcha-btn" onclick="checkCaptchaAnswer('${opt}')">
                  ${opt}
                </button>`
              ).join('')}
            </div>
          `;
        }, 5000);
      }
    }

    function checkCaptchaAnswer(selectedAnswer) {
      const correctAnswer = captchaQuestions[currentQuestion].answer;
      const captchaBox = document.getElementById('captchaBox');
      
      if (selectedAnswer === correctAnswer) {
        captchaBox.innerHTML = `
          <div style="text-align:center;">
            <div style="font-size:3rem; animation:heartBeat 0.8s ease-out;">💖</div>
            <div class="captcha-question" style="color:#800020;">
              Correct! ${currentQuestion === 2 ? "You're definitely my FIZA!" : "Let's try the next one!"}
            </div>
          </div>
        `;
        
        currentQuestion++;
        if (currentQuestion < captchaQuestions.length) {
          setTimeout(showQuestion, 1500);
        } else {
          setTimeout(showFinalSurprise, 1500);
        }
      } else {
        captchaBox.style.animation = 'shake 0.5s';
        setTimeout(() => {
          captchaBox.style.animation = '';
          document.getElementById('captchaBox').innerHTML += `
            <div class="captcha-hint">
              Wrong answer! Try again my love.
            </div>
          `;
        }, 500);
      }
    }

    function showFinalSurprise() {
      document.getElementById('captchaScreen').style.display = 'none';
      document.getElementById('videoMessage').style.display = 'flex';
      
      const video = document.getElementById('loveVideo');
      const prompt = document.getElementById('mobilePrompt');
      
      // Reset video state
      video.currentTime = 0;
      video.load();
      
      // Try autoplay (will fail on most mobile browsers)
      const playPromise = video.play();
      
      if (playPromise !== undefined) {
        playPromise.catch(() => {
          // Autoplay failed - show play button
          prompt.style.display = 'block';
        });
      }
    }
    
    function playVideo() {
      const video = document.getElementById('loveVideo');
      video.play();
      document.getElementById('mobilePrompt').style.display = 'none';
    }
  
    function closeVideo() {
      const video = document.getElementById('loveVideo');
      video.pause();
      video.currentTime = 0;
      document.getElementById('videoMessage').style.display = 'none';
      document.getElementById('mobilePrompt').style.display = 'block';
    }

    // Close login when clicking outside form
    document.getElementById('loginOverlay').addEventListener('click', (e) => {
      if (e.target === document.getElementById('loginOverlay')) {
        document.getElementById('loginOverlay').style.display = 'none';
      }
    });

    // Close CAPTCHA when clicking outside form
    document.getElementById('captchaScreen').addEventListener('click', (e) => {
      if (e.target === document.getElementById('captchaScreen')) {
        document.getElementById('captchaScreen').style.display = 'none';
      }
    });

    // Initialize
    window.onload = function() {
      // Set viewport height for mobile
      function setVh() {
        let vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty('--vh', `${vh}px`);
      }
      setVh();
      window.addEventListener('resize', setVh);
      
      populatePhotoBands();
      setupMobile();
    };
  </script>
</body>
</html>
